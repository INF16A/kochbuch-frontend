<!--
	Authors:
		Thomas Hörner
		Patrick Eichert
		Florian Eder
		Enrico Greßer
-->


<div class="container justify-content-md-center">
  <div class="row">
    <div class="col-6">
      <div class="margin-20">
        <h4>Neues Rezept anlegen</h4>
      </div>
      <form [formGroup]="createRecipe" novalidate (ngSubmit)="save(createRecipe)">
        <h5>Allgemeine Informationen</h5>

        <!--INPUT Recipe Name-->
        <div class="form-group">
          <label>Name</label>
          <input type="text" class="form-control" formControlName="name">
          <small
            *ngIf="createRecipe.controls.name.invalid && (createRecipe.controls.name.touched || createRecipe.controls.name.dirty)"
            class="text-danger">
            <div *ngIf="createRecipe.controls.name.errors.required">Dieses Feld darf nicht leer sein!</div>
            <div *ngIf="createRecipe.controls.name.errors.minlength">Mindestens 4 Buchstaben benötigt!</div>
          </small>
        </div>

        <!--INPUT Recipe Difficulty-->
        <div class="form-group">
          <label>Schwierigkeit</label>
          <input type="number" class="form-control" formControlName="difficulty" min="1" max="10">
          <small
            *ngIf="!createRecipe.controls.difficulty.valid && (createRecipe.controls.difficulty.touched || createRecipe.controls.difficulty.dirty)"
            class="text-danger">
            <div *ngIf="createRecipe.controls.difficulty.errors.required">Dieses Feld darf nicht leer sein!<br>Es dürfen
              nur Zahlen eingegeben werden!
            </div>
            <div *ngIf="createRecipe.controls.difficulty.errors.min || createRecipe.controls.difficulty.errors.max">Es
              sind nur Zahlen zwischen 1 und 10 erlaubt!
            </div>
          </small>
        </div>

        <!--INPUT Recipe PersonCount-->
        <div class="form-group">
          <label>Anzahl Personen</label>
          <input type="number" class="form-control" formControlName="personCount" min="1" max="1000">
          <small
            *ngIf="!createRecipe.controls.personCount.valid && (createRecipe.controls.personCount.touched || createRecipe.controls.personCount.dirty)"
            class="text-danger">
            <div *ngIf="createRecipe.controls.personCount.errors.required">Dieses Feld darf nicht leer sein!<br>Es
              dürfen nur Zahlen eingegeben werden!
            </div>
            <div *ngIf="createRecipe.controls.personCount.errors.min || createRecipe.controls.personCount.errors.max">Es
              sind nur Zahlen zwischen 1 und 1000 erlaubt!
            </div>
          </small>
        </div>

        <!--INPUT Recipe Description-->
        <div class="form-group">
          <label>Kurzbeschreibung</label>
          <textarea class="form-control" formControlName="description" rows="10"></textarea>
          <small
            *ngIf="!createRecipe.controls.description.valid && (createRecipe.controls.description.touched || createRecipe.controls.description.dirty)"
            class="text-danger">
            <div *ngIf="createRecipe.controls.description.errors.required">Dieses Feld darf nicht leer sein!</div>
          </small>
        </div>

        <!-- TAGS -->
        <h5>Tags</h5>
        <div class="d-flex flex-row flex-wrap justify-content-start" formArrayName="tags">

          <div class="m-2 pr-2 pl-2" style="border: 1px solid #a5a5a5; border-radius: 5px;" *ngFor="let tag of createRecipe.controls.tags.controls; let i = index">
            <span formControlName="tag"></span>
            <i class="fa fa-trash" aria-hidden="true" (click)="removeTag(i)"></i>
          </div>

          <!--Add new tag-->
          <div class="m-2 pr-2 pl-2" style="border: 1px solid #a5a5a5; border-radius: 5px;">
            <input type="text" placeholder="Tag hinzufügen" class="border-0">
            <i class="fa fa-check" aria-hidden="true" (click)="addTag('test')"></i>
          </div>
        </div>


        <div class="margin-20">
          <button type="submit" class="btn btn-primary" [disabled]="!createRecipe.valid">Rezept anlegen</button>
        </div>
        <div class="clearfix"></div>
        <div class="margin-20">
          <div>myForm details:-</div>
          <pre>Is myForm valid?: <br>{{createRecipe.valid | json}}</pre>
          <pre>form value: <br>{{createRecipe.value | json}}</pre>
        </div>
      </form>
    </div>
  </div>
</div>


<!--

<div class="container justify-content-md-center">
  <h1>Neues Rezept anlegen</h1>
  <form>

    <div class="row">
      <div class="col-4">
        <h3>Allgemeine Informationen</h3>
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" class="form-control" id="name" placeholder="" value="Nudelauflauf">

          <label for="schwierigkeit">Schwierigkeit</label>
          <input type="number" class="form-control" id="schwierigkeit" placeholder="" min="1" max="10" value="3">

          <label for="anzahlpersonen">Anzahl Personen</label>
          <input type="number" class="form-control" id="anzahlpersonen" placeholder="" min="1" value="4">

          <label for="beschreibung">Beschreibung </label>
          <textarea placeholder="Beschreibung..." id="beschreibung" class="form-control">Leckerer Nudelauflauf für 4 Personen.</textarea>

        </div>
      </div>
      <div class="col">
        <img src="assets/nudelauflauf.jpg" alt="Bild">
      </div>
    </div>

    <div class="col">
      <h3>Tags</h3>
      <div class="d-flex flex-row flex-wrap justify-content-start">
        <div class="m-2 pr-2 pl-2" style="border: 1px solid #a5a5a5; border-radius: 5px;">
          <span>Tag1</span>
          <i class="fa fa-trash" aria-hidden="true"></i>
        </div>
        <div class="m-2 pr-2 pl-2" style="border: 1px solid #a5a5a5; border-radius: 5px;">
          <input type="text" placeholder="Tag hinzufügen" class="border-0">
          <i class="fa fa-check" aria-hidden="true"></i>
        </div>
      </div>
    </div>

    <div class="col">
      <h3>Zutaten</h3>
      <ul>
        <li style="border-bottom: 1px solid #d3d3d3" class="mb-2">
          <div class="d-flex flex-row justify-content-between">
            <p>500 g Nudeln</p>
            <div>
              <i class="fa fa-pencil mr-2 ml-2" aria-hidden="true"></i>
              <i class="fa fa-trash-o mr-2 ml-2" aria-hidden="true"></i>
            </div>
          </div>
        </li>
        <li style="border-bottom: 1px solid #d3d3d3" class="mb-2">
          <p class="h5">Zutat hinzufügen</p>
          <div class="form-group">
            <label for="zutatName">Zutat</label>
            <input type="text" class="form-control" id="zutatName" placeholder="Zutat eingeben">

            <label for="zutatMenge">Menge</label>
            <div class="form-inline">
              <input type="text" class="form-control" id="zutatMenge" placeholder="Menge eingeben">
              <select class="form-control">
                <option>g</option>
                <option>ml</option>
              </select>
            </div>

            <button class="btn btn-primary">Hinzufügen</button>
          </div>
        </li>
      </ul>
    </div>

    <div class="col">
      <h3>Zubereitung</h3>
      <ol>
        <li style="border-bottom: 1px solid #d3d3d3" class="mb-2">
          <div>
            <div class="d-flex justify-content-between">
              <p>Aufwand: 10 min</p>
              <div>
                <i class="fa fa-pencil"></i>
                <i class="fa fa-trash"></i>
              </div>
            </div>
            <p>Nudeln, Tomaten, Brokkoli in die Auflaufform schütten.</p>
          </div>
        </li>
        <li style="border-bottom: 1px solid #d3d3d3" class="mb-2">
          <div>
            <div class="d-flex justify-content-between">
              <p>Aufwand: 32 min</p>
              <div>
                <i class="fa fa-pencil"></i>
                <i class="fa fa-trash"></i>
              </div>
            </div>
            <p>Wasser dazugeben und für 30 Minuten bei 200°C im vorgewärmten Backofen fertigstellen.</p>
          </div>
        </li>
        <li style="border-bottom: 1px solid #d3d3d3" class="mb-2">
          <p class="h5">Zubereitungschritt hinzufügen</p>
          <div class="form-group">
            <label for="schrittZeit">Aufwand in Minuten</label>
            <input type="number" class="form-control" id="schrittZeit" min="0" placeholder="">
            <label for="schrittText">Beschreibung</label>
            <textarea class="form-control" placeholder="" id="schrittText"></textarea>
            <button class="btn btn-primary">Hinzufügen</button>
          </div>
        </li>
      </ol>
    </div>

    <div class="col">
      <button class="btn btn-primary">Rezept anlegen</button>
    </div>
  </form>
</div>
-->
